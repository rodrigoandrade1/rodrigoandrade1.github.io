"use strict";(self["webpackChunkcontabilidade_vue"]=self["webpackChunkcontabilidade_vue"]||[]).push([[700],{834:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(3396),l=a(9242),r=a(7139);const o={class:"container"},n={class:"row"},i={class:"col-12 offset-lg-4 col-lg-5 mt-5"},u={class:"card"},c=(0,s._)("div",{class:"card-header palette-2 text-white"}," Fazer login ",-1),d={class:"card-body"},m=(0,s._)("label",{for:"username",class:"form-label"},"Nome de usuÃ¡rio",-1),p=(0,s._)("label",{for:"password",class:"form-label"},"Senha",-1),h=(0,s.Uk)("Criar uma conta"),f=(0,s._)("div",{class:"d-flex justify-content-end"},[(0,s._)("button",{class:"btn btn-primary",type:"submit"},[(0,s._)("i",{class:"fa-solid fa-right-to-bracket"}),(0,s.Uk)(" Fazer login")])],-1);function w(e,t,a,w,b,g){const _=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("div",u,[c,(0,s._)("div",d,[(0,s._)("form",{onSubmit:t[2]||(t[2]=(...e)=>g.login&&g.login(...e))},[m,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control mb-3","onUpdate:modelValue":t[0]||(t[0]=e=>b.username=e),required:""},null,512),[[l.nr,b.username]]),p,(0,s.wy)((0,s._)("input",{type:"password",class:"form-control mb-3","onUpdate:modelValue":t[1]||(t[1]=e=>b.password=e),required:""},null,512),[[l.nr,b.password]]),(0,s.Wm)(_,{to:"registrar"},{default:(0,s.w5)((()=>[h])),_:1}),f,b.alertText?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,r.C_)(b.alertClass+" mt-3"),role:"alert"},(0,r.zw)(b.alertText),3)):(0,s.kq)("",!0)],32)])])])])])}var b=a(6265),g=a.n(b),_={name:"LoginView",data(){return{username:null,password:null,alertClass:null,alertText:null}},methods:{async login(e){e.preventDefault();const t={username:this.username,password:this.password};g().post("http://localhost:3000/auth/login",t).then((e=>{console.log(e),this.$store.commit("authenticate",{token:e.data.token,userId:e.data.userId}),this.alertText=e.data.msg,this.alertClass="alert alert-success",setTimeout((()=>{this.$router.push("/")}),2e3)})).catch((e=>{e.response?(this.alertText=e.response.data.error,this.alertClass="alert alert-danger",setTimeout((()=>{this.alertText=null}),3e3)):console.log(e)}))}}},v=a(89);const k=(0,v.Z)(_,[["render",w]]);var y=k}}]);
//# sourceMappingURL=LoginView.19612447.js.map