"use strict";(self["webpackChunkcontabilidade_vue"]=self["webpackChunkcontabilidade_vue"]||[]).push([[382],{3354:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var a=s(3396),l=s(9242),r=s(7139);const i={class:"container"},n={class:"row g-3"},o={class:"col-12 col-lg-4"},c={class:"card"},u=(0,a._)("div",{class:"card-header palette-2 text-white"}," Configurações da empresa ",-1),d={class:"card-body"},b=(0,a._)("label",{for:"name",class:"form-label"},"Nome da empresa",-1),h=(0,a._)("div",{class:"d-flex justify-content-end"},[(0,a._)("button",{class:"btn btn-primary btn-sm",type:"submit"},"Alterar")],-1),m={class:"col-12 col-lg-4"},p={class:"card"},g=(0,a._)("div",{class:"card-header palette-2 text-white"}," Nova categoria ",-1),y={class:"card-body"},v=(0,a._)("label",{for:"title",class:"form-label"},"Nome da categoria",-1),f=(0,a._)("div",{class:"d-flex justify-content-end"},[(0,a._)("button",{class:"btn btn-primary btn-sm"},"Adicionar categoria")],-1),A=(0,a.uE)('<div class="col-12 col-lg-4"><div class="card"><div class="card-header palette-2 text-white"> Alterar senha </div><div class="card-body"><label for="name" class="form-label">Senha atual</label><input type="text" class="form-control mb-3" id="name"><label for="name" class="form-label">Nova senha</label><input type="text" class="form-control mb-3" id="name"><div class="d-flex justify-content-end"><button class="btn btn-primary btn-sm" type="submit">Confirmar</button></div></div></div></div>',1);function x(e,t,s,x,_,T){const C=(0,a.up)("header-layout");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(C),(0,a._)("div",i,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a._)("div",c,[u,(0,a._)("div",d,[(0,a._)("form",{onSubmit:t[1]||(t[1]=(...e)=>T.updateBusiness&&T.updateBusiness(...e))},[b,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>_.business=e),class:"form-control mb-3",id:"name"},null,512),[[l.nr,_.business]]),h,_.businessAlertText?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(_.businessAlertClass+" mt-2"),role:"alert"},(0,r.zw)(_.businessAlertText),3)):(0,a.kq)("",!0)],32)])])]),(0,a._)("div",m,[(0,a._)("div",p,[g,(0,a._)("div",y,[(0,a._)("form",{onSubmit:t[3]||(t[3]=(...e)=>T.createCategory&&T.createCategory(...e))},[v,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>_.title=e),class:"form-control mb-3",id:"title"},null,512),[[l.nr,_.title]]),f],32),_.categoryAlertText?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)(_.categoryAlertClass+" mt-2"),role:"alert"},(0,r.zw)(_.categoryAlertText),3)):(0,a.kq)("",!0)])])]),A])])])}var _=s(5445),T=s(6265),C=s.n(T),w={name:"SettingsView",components:{headerLayout:_.Z},data(){return{data:[],title:null,categoryAlertText:null,categoryAlertClass:null,businessAlertText:null,businessAlertClass:null,business:""}},created(){this.getUserData()},methods:{async getUserData(){const e=this.$store.getters.token,t={headers:{Authorization:`Bearer ${e}`}};try{const e=await C().get("https://contabilidade-unit.herokuapp.com/user/",t);this.data=e.data.msg,this.business=this.data.business}catch(s){console.error(s)}},async updateBusiness(e){e.preventDefault();const t={business:this.business},s=this.$store.getters.token,a={headers:{Authorization:`Bearer ${s}`}};C().put("https://contabilidade-unit.herokuapp.com/user/business",t,a).then((e=>{this.businessAlertText=e.data.msg,this.businessAlertClass="alert alert-success",setTimeout((()=>{this.businessAlertText=null}),3e3)})).catch((e=>{e.response?(this.businessAlertText=e.response.data.error,this.businessAlertClass="alert alert-danger",setTimeout((()=>{this.businessAlertText=null}),3e3)):console.log(e)}))},async createCategory(e){e.preventDefault();const t={title:this.title},s=this.$store.getters.token,a={headers:{Authorization:`Bearer ${s}`}};C().post("https://contabilidade-unit.herokuapp.com/category/create",t,a).then((e=>{this.title=null,this.categoryAlertText=e.data.msg,this.categoryAlertClass="alert alert-success",setTimeout((()=>{this.categoryAlertText=null}),3e3)})).catch((e=>{e.response?(this.categoryAlertText=e.response.data.error,this.categoryAlertClass="alert alert-danger",setTimeout((()=>{this.categoryAlertText=null}),3e3)):console.log(e)}))}}},k=s(89);const D=(0,k.Z)(w,[["render",x]]);var B=D}}]);
//# sourceMappingURL=SettingsView.af8d2a49.js.map