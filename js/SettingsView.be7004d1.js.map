{"version":3,"file":"js/SettingsView.be7004d1.js","mappings":"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","sources":["webpack://contabilidade-vue/./src/views/SettingsView.vue","webpack://contabilidade-vue/./src/views/SettingsView.vue?80d1"],"sourcesContent":["<template>\r\n  <div>\r\n    <header-layout/>\r\n    <div class=\"container\">\r\n      <div class=\"row g-3\">\r\n        <div class=\"col-12 col-lg-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header palette-2 text-white\">\r\n              Configurações da empresa\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <form @submit=\"updateBusiness\">\r\n                <label for=\"name\" class=\"form-label\">Nome da empresa</label>\r\n                <input type=\"text\" v-model=\"business\" class=\"form-control mb-3\" id=\"name\">\r\n\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <button class=\"btn btn-primary btn-sm\" type=\"submit\">Alterar</button>\r\n                </div>\r\n\r\n                <div v-if=\"businessAlertText\" :class=\"businessAlertClass + ' mt-2' \" role=\"alert\">\r\n                  {{businessAlertText}}\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-lg-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header palette-2 text-white\">\r\n              Nova categoria\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <form @submit=\"createCategory\">\r\n                <label for=\"title\" class=\"form-label\">Nome da categoria</label>\r\n                <input type=\"text\" v-model=\"title\" class=\"form-control mb-3\" id=\"title\">\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <button class=\"btn btn-primary btn-sm\">Adicionar categoria</button>\r\n                </div>\r\n              </form>\r\n              <div v-if=\"categoryAlertText\" :class=\"categoryAlertClass + ' mt-2' \" role=\"alert\">\r\n                {{categoryAlertText}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-lg-4\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header palette-2 text-white\">\r\n              Alterar senha\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <form @submit=\"updateBusiness\">\r\n                <label for=\"name\" class=\"form-label\">Senha atual</label>\r\n                <input type=\"text\" class=\"form-control mb-3\" id=\"name\" v-model=\"senhaAtual\">\r\n\r\n                <label for=\"name\" class=\"form-label\">Nova senha</label>\r\n                <input type=\"text\" class=\"form-control mb-3\" id=\"name\" v-model=\"novaSenha\">\r\n\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <button class=\"btn btn-primary btn-sm\" type=\"submit\">Confirmar</button>\r\n                </div>\r\n\r\n                <div v-if=\"businessAlertText\" :class=\"businessAlertClass + ' mt-2' \" role=\"alert\">\r\n                {{businessAlertText}}\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport headerLayout from '@/components/layouts/headerLayout.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'SettingsView',\r\n  components: {\r\n    headerLayout\r\n  },\r\n  data () {\r\n    return {\r\n      data: [],\r\n      title: null,\r\n      categoryAlertText: null,\r\n      categoryAlertClass: null,\r\n      businessAlertText: null,\r\n      businessAlertClass: null,\r\n      business: null\r\n    }\r\n  },\r\n  created () {\r\n    this.getUserData()\r\n  },\r\n  methods: {\r\n    async getUserData () {\r\n      const token = this.$store.getters.token\r\n      const headers = {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n\r\n      try {\r\n        const res = await axios.get('https://contabilidade-unit.herokuapp.com/user/', headers)\r\n        this.data = res.data.msg\r\n        this.business = this.data.business\r\n      } catch (e) {\r\n        console.error(e)\r\n      }\r\n    },\r\n    async updateBusiness (e) {\r\n      e.preventDefault()\r\n\r\n      const data = {\r\n        business: this.business\r\n      }\r\n\r\n      const token = this.$store.getters.token\r\n      const headers = {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n\r\n      axios.put('https://contabilidade-unit.herokuapp.com/auth/business', data, headers)\r\n        .then((response) => {\r\n          this.categoryAlertText = response.data.msg\r\n          this.categoryAlertClass = 'alert alert-success'\r\n\r\n          setTimeout(() => {\r\n            this.categoryAlertText = null\r\n          }, 3000)\r\n        })\r\n        .catch((err) => {\r\n          if (err.response) {\r\n            this.categoryAlertText = err.response.data.error\r\n            this.categoryAlertClass = 'alert alert-danger'\r\n\r\n            setTimeout(() => {\r\n              this.categoryAlertText = null\r\n            }, 3000)\r\n          } else {\r\n            console.log(err)\r\n          }\r\n        })\r\n    },\r\n    async createCategory (e) {\r\n      e.preventDefault()\r\n\r\n      const data = {\r\n        title: this.title\r\n      }\r\n\r\n      const token = this.$store.getters.token\r\n      const headers = {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n\r\n      axios.post('https://contabilidade-unit.herokuapp.com/category/create', data, headers)\r\n        .then((response) => {\r\n          this.title = null\r\n          this.categoryAlertText = response.data.msg\r\n          this.categoryAlertClass = 'alert alert-success'\r\n\r\n          setTimeout(() => {\r\n            this.categoryAlertText = null\r\n          }, 3000)\r\n        })\r\n        .catch((err) => {\r\n          if (err.response) {\r\n            this.categoryAlertText = err.response.data.error\r\n            this.categoryAlertClass = 'alert alert-danger'\r\n\r\n            setTimeout(() => {\r\n              this.categoryAlertText = null\r\n            }, 3000)\r\n          } else {\r\n            console.log(err)\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import { render } from \"./SettingsView.vue?vue&type=template&id=0f86e166\"\nimport script from \"./SettingsView.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Rodrigo Andrade\\\\Desktop\\\\contabilidade-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_createVNode","_component_header_layout","_hoisted_5","onSubmit","$options","_hoisted_7","$data","$event","id","_hoisted_8","role","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_17","_hoisted_19","_ctx","_hoisted_20","_hoisted_21","name","components","headerLayout","data","title","categoryAlertText","categoryAlertClass","businessAlertText","businessAlertClass","business","created","this","getUserData","methods","async","token","$store","getters","headers","Authorization","res","axios","msg","e","console","error","preventDefault","then","response","setTimeout","catch","err","log","__exports__","render"],"sourceRoot":""}